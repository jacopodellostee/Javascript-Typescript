<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: main.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: main.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @file main.js
 * @author Jacopo Dell'Oste
 * 
 * @description
 * Classic Hangman game where a player guesses letters to uncover a hidden word.
 * The game ends when the word is revealed or the maximum number of incorrect guesses is reached.
 */

// === DOM Elements ===

/** @type {HTMLElement} */
const wordDisplay = document.querySelector(".word");

/** @type {HTMLElement} */
const resultDisplay = document.querySelector(".result");

/** @type {HTMLImageElement} */
const hangmanDisplay = document.querySelector("#hangman-image");

/** @type {HTMLInputElement} */
const input = document.getElementById("guess");

// === Game Configuration ===

/** @type {string[]} */
const words = ["CAT", "DOG", "FROG", "FOX", "SHIP"];

/** @type {string[]} */
let word = [];

/** @type {string[]} */
let guess = [];

/** @type {number} */
const maxGuess = 6;

/** @type {number} */
let error = 0;

/** @type {number} */
let reward = 0;

/** @type {number} */
let hangmanIndex = 0;

/** @type {boolean} */
let gameOver = false;

/** @type {string[]} */
const hangmanState = [
    '4.jpg', '5.jpg', '6.jpg', '7.jpg', '8.jpg', '9.jpg', '10.jpg'
];

// === Core Game Functions ===

/**
 * Selects a random word from the list.
 * @returns {string[]} The chosen word as an array of uppercase letters.
 */
function chooseWord() {
    let randomIndex = Math.floor(Math.random() * words.length);

    return words[randomIndex].split("");
}

/**
 * Creates an array of underscores for the hidden word.
 * @returns {string[]} Array of underscores.
 */
function letterToGuess() {
    return Array(word.length).fill("_");
}

/**
 * Updates the display for the current word, hangman image, and result message.
 * @returns {void}
 */
function updateDisplay() {
    wordDisplay.textContent = guess.join(" ");

    hangmanDisplay.src = `./img/hangman/${hangmanState[hangmanIndex]}`;

    if (gameOver) {
        if (!guess.includes("_")) {
            resultDisplay.textContent = `You win! Reward: ${reward}`;
        } else {
            resultDisplay.textContent = `You lose! The word was: ${word.join("")}`;
        }
    } else {
        resultDisplay.textContent = `Guesses left: ${maxGuess - error} | Reward: ${reward}`;
    }
}

/**
 * Processes a guessed letter and updates game state.
 * @param {string} letter - The guessed letter.
 * @returns {void}
 */
function guessLetter(letter) {
    if (gameOver) return;

    let correct = false;

    for (let i = 0; i &lt; word.length; i++) {
        if (word[i] === letter &amp;&amp; guess[i] === "_") {

            guess[i] = letter;

            correct = true;
        }
    }

    if (correct) {
        reward += Math.floor(Math.random() * 11);
    } else {
        error++;

        hangmanIndex++;

        reward -= Math.floor(Math.random() * 11);
    }

    if (!guess.includes("_") || error >= maxGuess) {
        gameOver = true;
    }

    updateDisplay();
}

/**
 * Handles the guess input event.
 * @returns {void}
 */
function handleGuess() {
    const letter = input.value.toUpperCase();

    input.value = "";

    if (!letter.match(/^[A-Z]$/)) {
        return;
    }

    if (guess.includes(letter)) {
        return;
    }

    guessLetter(letter);
}

// === Game Initialization ===

word = chooseWord();

guess = letterToGuess();

updateDisplay();

// === Event Listeners ===

input.addEventListener('keypress', e => {
    if (e.key === "Enter") handleGuess();
});
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#chooseWord">chooseWord</a></li><li><a href="global.html#error">error</a></li><li><a href="global.html#gameOver">gameOver</a></li><li><a href="global.html#guess">guess</a></li><li><a href="global.html#guessLetter">guessLetter</a></li><li><a href="global.html#handleGuess">handleGuess</a></li><li><a href="global.html#hangmanDisplay">hangmanDisplay</a></li><li><a href="global.html#hangmanIndex">hangmanIndex</a></li><li><a href="global.html#hangmanState">hangmanState</a></li><li><a href="global.html#input">input</a></li><li><a href="global.html#letterToGuess">letterToGuess</a></li><li><a href="global.html#maxGuess">maxGuess</a></li><li><a href="global.html#resultDisplay">resultDisplay</a></li><li><a href="global.html#reward">reward</a></li><li><a href="global.html#updateDisplay">updateDisplay</a></li><li><a href="global.html#word">word</a></li><li><a href="global.html#wordDisplay">wordDisplay</a></li><li><a href="global.html#words">words</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Tue Apr 29 2025 14:14:41 GMT+0200 (Ora legale dellâ€™Europa centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
